<!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="Rovinty 放牛场">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="http://lolee.cn">
    <!--SEO-->

    <meta name="keywords" content="linux,unix,shell">


    <meta name="description" content="   以下是日常经验积累和常用的代码收集，没有任何技术含量，仅填坑。   更多经验请关注http://www.lolee.cn   grep用法实例 
一.实例 1.同時滿足多個關鍵字 1gre...">



<meta name="robots" content="all">
<meta name="google" content="all">
<meta name="googlebot" content="all">
<meta name="verify" content="all">

    <!--Title-->


<title>分享一个grep用法实例 | Rovinty 放牛场</title>


    <link rel="alternate" href="/atom.xml" title="Rovinty 放牛场" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    



    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?b25540d1b54244e343ba2f953850f37b";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>



    

</head>

</html>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header" style="background-image:url(/img/head_banner.jpg)">
    <div class="main-header-box">
        <a class="header-avatar" href="/" title="Devin">
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">简单有趣,就在Rovinty</h2>-->
            
                <h2> 人生一世间，忽若暮春草. </h2>
            
    	</div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="http://lolee.cn">Rovinty 放牛场</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>首页</a>
								
								<!-- Devin  -->
								    
								
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/前端/"><i class="fa "></i>前端</a>
								
								<!-- Devin  -->
								    
								
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/后端/"><i class="fa "></i>后端</a>
								
								<!-- Devin  -->
								    
								
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/工具/"><i class="fa "></i>工具</a>
								
								<!-- Devin  -->
								    
								
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/杂谈/"><i class="fa "></i>杂谈</a>
								
								<!-- Devin  -->
								    
								
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>时间轴</a>
								
								<!-- Devin  -->
								    
								
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/categories/关于/"><i class="fa "></i>关于我</a>
								
								<!-- Devin  -->
								   
								        <ul>
											
												<li><a href="/about/图册/"><div>图册</div></a></li>
											
												<li><a href="/categories/随笔/"><div>随笔</div></a></li>
											
										</ul>
									 
								
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="分享一个grep用法实例">
            
	            分享一个grep用法实例
            
        </h1>
        <div class="post-meta">
    
        <span class="categories-meta fa-wrap">
            <i class="fa fa-folder-open-o"></i>
            <a class="category-link" href="/categories/后端/">后端</a>
        </span>
    

    
        <span class="fa-wrap">
            <i class="fa fa-tags"></i>
            <span class="tags-meta">
                
                    <a class="tag-link" href="/tags/linux/">linux</a> <a class="tag-link" href="/tags/shell/">shell</a> <a class="tag-link" href="/tags/unix/">unix</a>
                
            </span>
        </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2017/08/18</span>
        </span>
        
    
</div>
            
            
            <p class="fa fa-exclamation-triangle warning">
                本文于<strong>619</strong>天之前发表，文中内容可能已经过时。
            </p>
        
    </div>
    
    <div class="post-body post-content">
        <p>   以下是日常经验积累和常用的代码收集，没有任何技术含量，仅填坑。<br>   更多经验请关注<a href="http://www.lolee.cn" target="_blank" rel="noopener">http://www.lolee.cn</a><br>   grep用法实例 </p>
<h2 id="一-实例"><a href="#一-实例" class="headerlink" title="一.实例"></a>一.实例</h2><p> 1.同時滿足多個關鍵字<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -l &quot;cdrdlh&quot; *.4gl|xargs grep  &quot;shpdat&quot;|pg</span><br></pre></td></tr></table></figure></p>
<p>2.滿足某個關鍵字<br><a id="more"></a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -E &quot;cdrdlh|shpdat&quot; *.4gl|pg</span><br></pre></td></tr></table></figure></p>
<p>3.cp查找出來的文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp `grep -l &quot;cdrdlh&quot; *.4gl|xargs grep -l &quot;shpdat&quot;` /dir</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="二-用法"><a href="#二-用法" class="headerlink" title="二.用法"></a>二.用法</h2><h3 id="grep的常用选项："><a href="#grep的常用选项：" class="headerlink" title="grep的常用选项："></a>grep的常用选项：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-V： 打印grep的版本号</span><br><span class="line"></span><br><span class="line">-E： 解释PATTERN作为扩展正则表达式，也就相当于使用egrep。 或操作</span><br><span class="line"></span><br><span class="line">-F:  解释PATTERN作为固定字符串的列表，由换行符分隔，其中任何一个都要匹配。也就相当于使用fgrep。</span><br><span class="line"></span><br><span class="line">-G:  将范本样式视为普通的表示法来使用。这是默认值。加不加都是使用grep。</span><br></pre></td></tr></table></figure>
<h3 id="匹配控制选项："><a href="#匹配控制选项：" class="headerlink" title="匹配控制选项："></a>匹配控制选项：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-e :  使用PATTERN作为模式。这可以用于指定多个搜索模式，或保护以连字符（ - ）开头的图案。指定字符串做为查找文件内容的样式。   </span><br><span class="line"></span><br><span class="line">-f :  指定规则文件，其内容含有一个或多个规则样式，让grep查找符合规则条件的文件内容，格式为每行一个规则样式。</span><br><span class="line"></span><br><span class="line">-i :  搜索时候忽略大小写</span><br><span class="line"></span><br><span class="line">-v:  反转匹配，选择没有被匹配到的内容。</span><br><span class="line"></span><br><span class="line">-w：匹配整词，精确地单词,单词的两边必须是非字符符号(即不能是字母数字或下划线)</span><br><span class="line"></span><br><span class="line">-x：仅选择与整行完全匹配的匹配项。精确匹配整行内容(包括行首行尾那些看不到的空格内容都要完全匹配)</span><br><span class="line"></span><br><span class="line">-y：此参数的效果和指定“-i”参数相同。</span><br></pre></td></tr></table></figure>
<h3 id="一般输出控制选项："><a href="#一般输出控制选项：" class="headerlink" title="一般输出控制选项："></a>一般输出控制选项：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-c： 抑制正常输出;而是为每个输入文件打印匹配线的计数。</span><br><span class="line"></span><br><span class="line">--color [= WHEN]：让关键字高亮显示，如--color=auto</span><br><span class="line"></span><br><span class="line">-L：列出文件内容不符合指定的范本样式的文件名称</span><br><span class="line"></span><br><span class="line">-l : 列出文件内容符合指定的范本样式的文件名称。</span><br><span class="line"></span><br><span class="line">-m num：当匹配内容的行数达到num行后,grep停止搜索,并输出停止前搜索到的匹配内容</span><br><span class="line"></span><br><span class="line">-o: 只输出匹配的具体字符串,匹配行中其他内容不会输出</span><br><span class="line"></span><br><span class="line">-q：安静模式,不会有任何输出内容,查找到匹配内容会返回0,未查找到匹配内容就返回非0</span><br><span class="line"></span><br><span class="line">-s：不会输出查找过程中出现的任何错误消息，-q和-s选项因为与其他系统的grep有兼容问题，shell脚本应该避免使用-q和-s，并且应该将标准和错误输出重定向到/dev/null 代替。</span><br></pre></td></tr></table></figure>
<h3 id="输出线前缀控制："><a href="#输出线前缀控制：" class="headerlink" title="输出线前缀控制："></a>输出线前缀控制：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-b：输出每一个匹配行(或匹配的字符串)时在其前附加上偏移量(从文件第一个字符到该匹配内容之间的字节数)</span><br><span class="line"></span><br><span class="line">-H：在每一个匹配行之前加上文件名一起输出(针对于查找单个文件),当查找多个文件时默认就会输出文件名</span><br><span class="line"></span><br><span class="line">-h：禁止输出上的文件名的前缀。无论查找几个文件都不会在匹配内容前输出文件名</span><br><span class="line"></span><br><span class="line">--label = LABEL：显示实际来自标准输入的输入作为来自文件LABEL的输入。这是特别在实现zgrep等工具时非常有用，例如gzip -cd foo.gz | grep --label = foo -H的东西。看到 也是-H选项。</span><br><span class="line"></span><br><span class="line">-n：输出匹配内容的同时输出其所在行号。</span><br><span class="line"></span><br><span class="line">-T：初始标签确保实际行内容的第一个字符位于制表位上，以便对齐标签看起来很正常。在匹配信息和其前的附加信息之间加入tab以使格式整齐。</span><br></pre></td></tr></table></figure>
<h3 id="上下文线控制选项："><a href="#上下文线控制选项：" class="headerlink" title="上下文线控制选项："></a>上下文线控制选项：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-A num：匹配到搜索到的行以及该行下面的num行</span><br><span class="line"></span><br><span class="line">-B num：匹配到搜索到的行以及该行上面的num行</span><br><span class="line"></span><br><span class="line">-C num：匹配到搜索到的行以及上下各num行</span><br></pre></td></tr></table></figure>
<h3 id="文件和目录选择选项："><a href="#文件和目录选择选项：" class="headerlink" title="文件和目录选择选项："></a>文件和目录选择选项：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-a： 处理二进制文件，就像它是文本;这相当于--binary-files = text选项。不忽略二进制的数据。  </span><br><span class="line"></span><br><span class="line"> --binary-files = TYPE：如果文件的前几个字节指示文件包含二进制数据，则假定该文件为类型TYPE。默认情况下，TYPE是二进制的，grep通常输出一行消息二进制文件匹配，或者如果没有匹配则没有消息。如果TYPE不匹配，grep假定二进制文件不匹配;这相当于-I选项。如果TYPE是文本，则grep处理a二进制文件，如果它是文本;这相当于-a选项。警告：grep --binary-files = text可能会输出二进制的垃圾，如果输出是一个终端和如果可能有讨厌的副作用终端驱动程序将其中的一些解释为命令。</span><br><span class="line"></span><br><span class="line">-D：如果输入文件是设备，FIFO或套接字，请使用ACTION处理。默认情况下，读取ACTION，这意味着设备被读取，就像它们是普通文件一样。如果跳过ACTION，设备为 默默地跳过。</span><br><span class="line"></span><br><span class="line">-d:  如果输入文件是目录，请使用ACTION处理它。默认情况下，ACTION是读的，这意味着目录被读取，就像它们是普通文件一样。如果跳过ACTION，目录将静默跳过。如果ACTION是recurse，grep将递归读取每个目录下的所有文件;这是相当于-r选项。</span><br><span class="line"></span><br><span class="line">--exclude=GLOB：跳过基本名称与GLOB匹配的文件（使用通配符匹配）。文件名glob可以使用*，？和[...]作为通配符，和\引用通配符或反斜杠字符。搜索其文件名和GLOB通配符相匹配的文件的内容来查找匹配使用方法:grep -H --exclude=c* &quot;old&quot; ./*  c*是通配文件名的通配符./* 指定需要先通配文件名的文件的范围,必须要给*,不然就匹配不出内容,(如果不给*,带上-r选项也可以匹配)</span><br><span class="line"></span><br><span class="line">--exclude-from = FILE：在文件中编写通配方案,grep将不会到匹配方案中文件名的文件去查找匹配内容</span><br><span class="line"></span><br><span class="line">--exclude-dir = DIR：匹配一个目录下的很多内容同时还要让一些子目录不接受匹配,就使用此选项。</span><br><span class="line"></span><br><span class="line"> --include = GLOB：仅搜索其基本名称与GLOB匹配的文件（使用--exclude下所述的通配符匹配）。</span><br><span class="line"></span><br><span class="line">-R ,-r :以递归方式读取每个目录下的所有文件; 这相当于-d recurse选项。</span><br></pre></td></tr></table></figure>
<h3 id="其他选项："><a href="#其他选项：" class="headerlink" title="其他选项："></a>其他选项：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">--line-buffered： 在输出上使用行缓冲。这可能会导致性能损失。</span><br><span class="line"></span><br><span class="line">--mmap：启用mmap系统调用代替read系统调用</span><br><span class="line"></span><br><span class="line">-U：将文件视为二进制。</span><br><span class="line"></span><br><span class="line">-z：将输入视为一组行，每一行由一个零字节（ASCII NUL字符）而不是a终止新队。与-Z或--null选项一样，此选项可以与排序-z等命令一起使用来处理任意文件名。</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>本文根据自己经验整理所得，原创技术贴，转载请注明出处 <a href="http://www.lolee.cn/" target="_blank" rel="noopener">Lolee By Devin</a></strong></li>
</ul>

    </div>
    
        <div class="reward" ontouchstart>
    <div class="reward-wrap">赏
        <div class="reward-box">
            
            
                <span class="reward-type">
                    <img class="wechat" src="/img/reward-wepay.jpg"><b>微信打赏</b>
                </span>
            
        </div>
    </div>
    <p class="reward-tip">赞赏是不耍流氓的鼓励</p>
</div>


    
    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href target="_blank">Rovinty</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/2017/08/20/Dbschema 用法总结/" class="pre-post btn btn-default" title="Dbschema 用法总结">
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">Dbschema 用法总结</span>
        </a>
    
    
        <a href="/2016/12/21/前端资源2/" class="next-post btn btn-default" title="前端資源汇总 推荐②">
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">前端資源汇总 推荐②</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
    <div id="vcomments" class="valine"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

    <script>
        new Valine({
            av: AV,
            el: '#vcomments',
            appId: 'iqmteeMbB5TOAVCizHiwn9Vm-gzGzoHsz',
            appKey: 'Ci40kaMeUbviUu6UTU01QwLe',
            placeholder: '说点什么，鼓励下吧',
            notify: false,
            verify: true,
            avatar: 'mm',
            meta: 'nick,mail'.split(','),
            pageSize: '10',
            path: window.location.pathname,
            lang: 'zh-CN'.toLowerCase()
        })
    </script>


    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一-实例"><span class="toc-text">一.实例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二-用法"><span class="toc-text">二.用法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#grep的常用选项："><span class="toc-text">grep的常用选项：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#匹配控制选项："><span class="toc-text">匹配控制选项：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一般输出控制选项："><span class="toc-text">一般输出控制选项：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#输出线前缀控制："><span class="toc-text">输出线前缀控制：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#上下文线控制选项："><span class="toc-text">上下文线控制选项：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件和目录选择选项："><span class="toc-text">文件和目录选择选项：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他选项："><span class="toc-text">其他选项：</span></a></li></ol></li></ol>
        
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>

            </div>
            <div class="col-sm-12">
              <!--  <span>Copyright &copy; 2017 -->
                <span>Copyright &copy; 2016
                </span> |
                <span>
                    Powered by <a href="//lolee.cn" class="copyright-links" target="_blank" rel="nofollow">Lolee</a>
			<!--		
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a> 
                </span>
				-->
            </span></div>
        </div>
    </div>
</div>







<script src="/js/app.js?rev=@@hash"></script>

</body>
</html>